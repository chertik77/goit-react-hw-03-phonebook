import{_ as u,r as v,a as G,j as e,u as J,b as Y}from"./index-b656f359.js";import{g as K,a as Q,k as X,s as Z,c as ee,r as se,u as re,b as ae,d as oe,e as b,f as ie,B as m,T as f,h as ne,i as te,I as le,C as de,F as w,j as S,l as _,m as z,n as R,o as M,p as T,q as I,t as W,S as x,v as F,w as y,x as ce,L as ge,y as pe,z as ue,G as me}from"./validationSchema-ab4e93e6.js";function he(s){return K("MuiLinearProgress",s)}Q("MuiLinearProgress",["root","determinate","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);const xe=["children","className","component","color","size","variant","thickness","determinate","value","style","slots","slotProps"];let V=s=>s,k,C;const ve=X(k||(k=V`
  0% {
    left: var(--_LinearProgress-progressInset);
    width: var(--LinearProgress-progressMinWidth);
  }

  25% {
    width: var(--LinearProgress-progressMaxWidth);
  }

  50% {
    left: var(--_LinearProgress-progressLeft);
    width: var(--LinearProgress-progressMinWidth);
  }

  75% {
    width: var(--LinearProgress-progressMaxWidth);
  }

  100% {
    left: var(--_LinearProgress-progressInset);
    width: var(--LinearProgress-progressMinWidth);
  }
`)),fe=s=>{const{determinate:a,color:o,variant:i,size:n}=s,t={root:["root",a&&"determinate",o&&`color${b(o)}`,i&&`variant${b(i)}`,n&&`size${b(n)}`]};return ie(t,he,{})},Pe=Z("div",{name:"JoyLinearProgress",slot:"Root",overridesResolver:(s,a)=>a.root})(({ownerState:s,theme:a})=>{var o,i,n,t;return u({"--LinearProgress-radius":"var(--LinearProgress-thickness)","--LinearProgress-progressThickness":"var(--LinearProgress-thickness)","--LinearProgress-progressRadius":"max(var(--LinearProgress-radius) - var(--_LinearProgress-padding), min(var(--_LinearProgress-padding) / 2, var(--LinearProgress-radius) / 2))"},s.size==="sm"&&{"--LinearProgress-thickness":"4px"},s.size==="md"&&{"--LinearProgress-thickness":"6px"},s.size==="lg"&&{"--LinearProgress-thickness":"8px"},s.thickness&&{"--LinearProgress-thickness":`${s.thickness}px`},!s.determinate&&{"--LinearProgress-progressMinWidth":"calc(var(--LinearProgress-percent) * 1% / 2)","--LinearProgress-progressMaxWidth":"calc(var(--LinearProgress-percent) * 1%)","--_LinearProgress-progressLeft":"calc(100% - var(--LinearProgress-progressMinWidth) - var(--_LinearProgress-progressInset))","--_LinearProgress-progressInset":"calc(var(--LinearProgress-thickness) / 2 - var(--LinearProgress-progressThickness) / 2)"},{minBlockSize:"var(--LinearProgress-thickness)",boxSizing:"border-box",borderRadius:"var(--LinearProgress-radius)",display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:"var(--_LinearProgress-padding)",position:"relative"},(o=a.variants[s.variant])==null?void 0:o[s.color],{"--_LinearProgress-padding":"max((var(--LinearProgress-thickness) - 2 * var(--variant-borderWidth, 0px) - var(--LinearProgress-progressThickness)) / 2, 0px)","&::before":{content:'""',display:"block",boxSizing:"inherit",blockSize:"var(--LinearProgress-progressThickness)",borderRadius:"var(--LinearProgress-progressRadius)",backgroundColor:"currentColor",color:"inherit",position:"absolute"}},s.variant==="soft"&&{backgroundColor:a.variants.soft.neutral.backgroundColor,color:(i=a.variants.solid)==null?void 0:i[s.color].backgroundColor},s.variant==="solid"&&{backgroundColor:(n=a.variants.softHover)==null?void 0:n[s.color].backgroundColor,color:(t=a.variants.solid)==null?void 0:t[s.color].backgroundColor})},({ownerState:s})=>s.determinate?{"&::before":{left:"var(--_LinearProgress-padding)",inlineSize:"calc(var(--LinearProgress-percent) * 1% - 2 * var(--_LinearProgress-padding))"}}:ee(C||(C=V`
          &::before {
            animation: ${0}
              var(--LinearProgress-circulation, 2.5s ease-in-out 0s infinite normal none running);
          }
        `),ve),({ownerState:s,theme:a})=>{const{borderRadius:o,height:i}=se({theme:a,ownerState:s},["borderRadius","height"]);return u({},o!==void 0&&{"--LinearProgress-radius":o},i!==void 0&&{"--LinearProgress-thickness":i})}),be=v.forwardRef(function(a,o){const i=re({props:a,name:"JoyLinearProgress"}),{children:n,className:t,component:r,color:l="primary",size:c="md",variant:d="soft",thickness:g,determinate:p=!1,value:h=p?0:25,style:D,slots:H={},slotProps:N={}}=i,E=G(i,xe),j=u({},i,{component:r,color:l,size:c,variant:d,thickness:g,value:h,determinate:p,instanceSize:a.size}),U=fe(j),q=u({},E,{component:r,slots:H,slotProps:N}),[O,A]=ae("root",{ref:o,className:oe(U.root,t),elementType:Pe,externalForwardedProps:q,ownerState:j,additionalProps:u({as:r,role:"progressbar",style:u({},{"--LinearProgress-percent":h},D)},typeof h=="number"&&p&&{"aria-valuenow":Math.round(h)})});return e.jsx(O,u({},A,{children:n}))}),Le=be,je=()=>e.jsx(m,{component:"footer",sx:{py:3},children:e.jsxs(f,{level:"body-xs",textAlign:"center",children:["Â© PhoneBook ",new Date().getFullYear()]})});var L={},ye=te;Object.defineProperty(L,"__esModule",{value:!0});var B=L.default=void 0,ke=ye(ne()),Ce=e,we=(0,ke.default)((0,Ce.jsx)("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12zm3 6H6v-.43c0-.6.36-1.15.92-1.39.64-.28 1.34-.43 2.08-.43s1.44.15 2.08.43c.55.24.92.78.92 1.39V18zm1-9h-2V4h2v5zm4.25 7.5h-2.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.5c.41 0 .75.34.75.75s-.34.75-.75.75zm0-3h-2.5c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h2.5c.41 0 .75.34.75.75s-.34.75-.75.75z"}),"BadgeRounded");B=L.default=we;const Se=()=>e.jsxs(m,{component:"header",sx:{py:3,display:"flex",alignItems:"left",justifyContent:"space-between"},children:[e.jsxs(m,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(le,{variant:"soft",color:"primary",size:"sm",children:e.jsx(B,{})}),e.jsx(f,{level:"title-lg",children:"PhoneBook"})]}),e.jsx(de,{})]}),_e=()=>e.jsx(m,{sx:s=>({height:"100%",position:"fixed",right:0,top:0,bottom:0,left:"clamp(0px, (100vw - var(--Collapsed-breakpoint)) * 999, 100vw - var(--Cover-width))",transition:"background-image var(--Transition-duration), left var(--Transition-duration) !important",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",backgroundColor:"background.level1",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(https://images.unsplash.com/photo-1527181152855-fc03fc7949c8?auto=format&w=1000&dpr=2)",[s.getColorSchemeSelector("dark")]:{backgroundImage:"url(https://images.unsplash.com/photo-1572072393749-3ca9c8ea0831?auto=format&w=1000&dpr=2)"}})}),P=({label:s,error:a,helperText:o,register:i,...n})=>e.jsxs(w,{error:!!a,children:[e.jsx(S,{children:s}),e.jsx(_,{...n,...i}),a&&e.jsxs(z,{children:[e.jsx(R,{}),o]})]}),$=({error:s,type:a})=>a==="login"?s&&e.jsx("small",{className:"p-error",children:"You have entered email or password incorrect, please try again."}):s&&e.jsx("small",{className:"p-error",children:"A user with the same email already exists, please try again."}),ze=()=>{var c,d;const[s,{isLoading:a,error:o}]=J(),{reset:i,control:n,register:t,formState:{errors:r,isValid:l}}=M({mode:"onChange",resolver:T(I(["email","loginpassword"]))});return e.jsxs(W,{control:n,autoComplete:"on",onSubmit:async({data:{email:g,loginpassword:p}})=>{await s({email:g,password:p}),i()},children:[e.jsx(P,{label:"Email",type:"email",register:t("email"),error:r==null?void 0:r.email,helperText:(c=r==null?void 0:r.email)==null?void 0:c.message,autoComplete:"email"}),e.jsx(P,{label:"Password",type:"password",register:t("loginpassword"),error:r==null?void 0:r.loginpassword,helperText:(d=r==null?void 0:r.loginpassword)==null?void 0:d.message,autoComplete:"current-password"}),e.jsxs(x,{sx:{mt:2,gap:2},children:[e.jsx($,{error:o,type:"login"}),e.jsx(F,{type:"submit",fullWidth:!0,loading:a,disabled:!l,children:"Sign in"})]})]})},Re=v.forwardRef(({onChange:s,value:a,...o},i)=>{const[n,t]=v.useState(a||"");v.useEffect(()=>{t(a||"")},[a]);const r=c=>{const d=c.target.value;t(d),s(d)},l=y(n);return e.jsxs(x,{spacing:.5,sx:{"--hue":Math.min(n.length*10,120)},children:[e.jsx(_,{type:"password",value:n,onChange:r,ref:i,...o,autoComplete:"current-password"}),e.jsx(Le,{determinate:!0,size:"sm",value:y(n),sx:{bgcolor:"background.level3",color:"hsl(var(--hue) 80% 40%)"}}),e.jsxs(f,{level:"body-xs",sx:{alignSelf:"flex-end",color:"hsl(var(--hue) 80% 30%)"},children:[l===25&&"Very weak - add numbers, caps, or symbols",l===50&&"Weak - try adding uppercase letters or special characters",l===75&&"Strong - try adding special characters for extra security",l===100&&"Very strong - your password is secure"]})]})}),Me=()=>{var c,d;const[s,{isLoading:a,error:o}]=Y(),{reset:i,control:n,register:t,formState:{errors:r,isValid:l}}=M({mode:"onChange",resolver:T(I(["name","email","signuppassword"]))});return e.jsxs(W,{autoComplete:"on",control:n,onSubmit:async({data:{name:g,email:p,signuppassword:h}})=>{await s({name:g,email:p,password:h}),i()},children:[e.jsx(P,{error:o==null?void 0:o.name,label:"Name",register:t("name"),autoComplete:"given-name",type:"text",helperText:(c=r==null?void 0:r.name)==null?void 0:c.message}),e.jsx(P,{error:o==null?void 0:o.email,label:"Email",register:t("email"),autoComplete:"email",type:"email",helperText:(d=r==null?void 0:r.email)==null?void 0:d.message}),e.jsxs(w,{error:!!(r!=null&&r.signuppassword),children:[e.jsx(S,{children:"Password"}),e.jsx(ce,{name:"signuppassword",control:n,render:({field:g})=>e.jsx(Re,{...g})}),(r==null?void 0:r.signuppassword)&&e.jsxs(z,{children:[e.jsx(R,{}),r.signuppassword.message]})]}),e.jsxs(x,{sx:{mt:2,gap:2},children:[e.jsx($,{error:o,type:"signup"}),e.jsx(F,{type:"submit",fullWidth:!0,loading:a,disabled:!l,children:"Sign up"})]})]})},Te=()=>{const[s,a]=v.useState(!1);return e.jsxs(m,{component:"main",sx:{my:"auto",py:2,pb:5,display:"flex",flexDirection:"column",gap:2,width:400,maxWidth:"100%",mx:"auto",borderRadius:"sm","& form":{display:"flex",flexDirection:"column",gap:2}},children:[e.jsx(x,{sx:{mb:2,gap:4},children:e.jsxs(x,{sx:{gap:1},children:[e.jsx(f,{level:"h3",children:s?"Sign up":"Sign in"}),e.jsxs(f,{level:"body-sm",children:[s?"Have an account?":"New to PhoneBook?"," ",e.jsx(ge,{level:"title-sm",onClick:()=>a(!s),children:s?"Sign in!":"Sign up!"})]})]})}),e.jsx(x,{sx:{mt:2,gap:4},children:s?e.jsx(Me,{}):e.jsx(ze,{})})]})},Fe=()=>e.jsxs(pe,{defaultMode:"system",disableTransitionOnChange:!0,children:[e.jsx(ue,{}),e.jsx(me,{styles:{":root":{"--Collapsed-breakpoint":"769px","--Cover-width":"50vw","--Form-maxWidth":"800px","--Transition-duration":"0.4s"}}}),e.jsx(m,{sx:s=>({width:"clamp(100vw - var(--Cover-width), (var(--Collapsed-breakpoint) - 100vw) * 999, 100vw)",transition:"width var(--Transition-duration)",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",position:"relative",zIndex:1,display:"flex",justifyContent:"flex-end",backdropFilter:"blur(12px)",backgroundColor:"rgba(255 255 255 / 0.2)",[s.getColorSchemeSelector("dark")]:{backgroundColor:"rgba(19 19 24 / 0.4)"}}),children:e.jsxs(m,{sx:{display:"flex",flexDirection:"column",minHeight:"100dvh",width:"clamp(var(--Form-maxWidth), (var(--Collapsed-breakpoint) - 100vw) * 999, 100%)",maxWidth:"100%",px:2},children:[e.jsx(Se,{}),e.jsx(Te,{}),e.jsx(je,{})]})}),e.jsx(_e,{})]});export{Fe as default};
