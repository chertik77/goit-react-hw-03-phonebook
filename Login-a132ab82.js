import{_ as u,r as v,a as N,j as e,u as D,b as E}from"./index-6f514976.js";import{g as H,a as U,k as O,s as q,c as A,r as G,u as J,b as Y,d as K,e as L,f as Q,B as m,T as b,I as X,h as Z,C as ee,i as w,o as S,j as _,F as P,S as x,l as z,m as j,n as se,p as re,q as ae,t as oe,v as ie,w as ne,L as te,x as le,y as de,G as ce}from"./validationSchema-306adfff.js";function ge(s){return H("MuiLinearProgress",s)}U("MuiLinearProgress",["root","determinate","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);const pe=["children","className","component","color","size","variant","thickness","determinate","value","style","slots","slotProps"];let T=s=>s,k,C;const ue=O(k||(k=T`
  0% {
    left: var(--_LinearProgress-progressInset);
    width: var(--LinearProgress-progressMinWidth);
  }

  25% {
    width: var(--LinearProgress-progressMaxWidth);
  }

  50% {
    left: var(--_LinearProgress-progressLeft);
    width: var(--LinearProgress-progressMinWidth);
  }

  75% {
    width: var(--LinearProgress-progressMaxWidth);
  }

  100% {
    left: var(--_LinearProgress-progressInset);
    width: var(--LinearProgress-progressMinWidth);
  }
`)),me=s=>{const{determinate:r,color:a,variant:n,size:t}=s,l={root:["root",r&&"determinate",a&&`color${L(a)}`,n&&`variant${L(n)}`,t&&`size${L(t)}`]};return Q(l,ge,{})},he=q("div",{name:"JoyLinearProgress",slot:"Root",overridesResolver:(s,r)=>r.root})(({ownerState:s,theme:r})=>{var a,n,t,l;return u({"--LinearProgress-radius":"var(--LinearProgress-thickness)","--LinearProgress-progressThickness":"var(--LinearProgress-thickness)","--LinearProgress-progressRadius":"max(var(--LinearProgress-radius) - var(--_LinearProgress-padding), min(var(--_LinearProgress-padding) / 2, var(--LinearProgress-radius) / 2))"},s.size==="sm"&&{"--LinearProgress-thickness":"4px"},s.size==="md"&&{"--LinearProgress-thickness":"6px"},s.size==="lg"&&{"--LinearProgress-thickness":"8px"},s.thickness&&{"--LinearProgress-thickness":`${s.thickness}px`},!s.determinate&&{"--LinearProgress-progressMinWidth":"calc(var(--LinearProgress-percent) * 1% / 2)","--LinearProgress-progressMaxWidth":"calc(var(--LinearProgress-percent) * 1%)","--_LinearProgress-progressLeft":"calc(100% - var(--LinearProgress-progressMinWidth) - var(--_LinearProgress-progressInset))","--_LinearProgress-progressInset":"calc(var(--LinearProgress-thickness) / 2 - var(--LinearProgress-progressThickness) / 2)"},{minBlockSize:"var(--LinearProgress-thickness)",boxSizing:"border-box",borderRadius:"var(--LinearProgress-radius)",display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:"var(--_LinearProgress-padding)",position:"relative"},(a=r.variants[s.variant])==null?void 0:a[s.color],{"--_LinearProgress-padding":"max((var(--LinearProgress-thickness) - 2 * var(--variant-borderWidth, 0px) - var(--LinearProgress-progressThickness)) / 2, 0px)","&::before":{content:'""',display:"block",boxSizing:"inherit",blockSize:"var(--LinearProgress-progressThickness)",borderRadius:"var(--LinearProgress-progressRadius)",backgroundColor:"currentColor",color:"inherit",position:"absolute"}},s.variant==="soft"&&{backgroundColor:r.variants.soft.neutral.backgroundColor,color:(n=r.variants.solid)==null?void 0:n[s.color].backgroundColor},s.variant==="solid"&&{backgroundColor:(t=r.variants.softHover)==null?void 0:t[s.color].backgroundColor,color:(l=r.variants.solid)==null?void 0:l[s.color].backgroundColor})},({ownerState:s})=>s.determinate?{"&::before":{left:"var(--_LinearProgress-padding)",inlineSize:"calc(var(--LinearProgress-percent) * 1% - 2 * var(--_LinearProgress-padding))"}}:A(C||(C=T`
          &::before {
            animation: ${0}
              var(--LinearProgress-circulation, 2.5s ease-in-out 0s infinite normal none running);
          }
        `),ue),({ownerState:s,theme:r})=>{const{borderRadius:a,height:n}=G({theme:r,ownerState:s},["borderRadius","height"]);return u({},a!==void 0&&{"--LinearProgress-radius":a},n!==void 0&&{"--LinearProgress-thickness":n})}),xe=v.forwardRef(function(r,a){const n=J({props:r,name:"JoyLinearProgress"}),{children:t,className:l,component:i,color:o="primary",size:c="md",variant:h="soft",thickness:p,determinate:g=!1,value:d=g?0:25,style:f,slots:R={},slotProps:W={}}=n,I=N(n,pe),y=u({},n,{component:i,color:o,size:c,variant:h,thickness:p,value:d,determinate:g,instanceSize:r.size}),F=me(y),$=u({},I,{component:i,slots:R,slotProps:W}),[B,V]=Y("root",{ref:a,className:K(F.root,l),elementType:he,externalForwardedProps:$,ownerState:y,additionalProps:u({as:i,role:"progressbar",style:u({},{"--LinearProgress-percent":d},f)},typeof d=="number"&&g&&{"aria-valuenow":Math.round(d)})});return e.jsx(B,u({},V,{children:t}))}),ve=xe,be=()=>e.jsx(m,{component:"footer",sx:{py:3},children:e.jsxs(b,{level:"body-xs",textAlign:"center",children:["Â© PhoneBook ",new Date().getFullYear()]})}),Pe=()=>e.jsxs(m,{component:"header",sx:{py:3,display:"flex",justifyContent:"space-between"},children:[e.jsxs(m,{sx:{gap:2,display:"flex",alignItems:"center"},children:[e.jsx(X,{variant:"soft",color:"primary",size:"sm",children:e.jsx(Z,{})}),e.jsx(b,{level:"title-lg",children:"PhoneBook"})]}),e.jsx(ee,{})]}),fe=()=>e.jsx(m,{sx:s=>({height:"100%",position:"fixed",right:0,top:0,bottom:0,left:"clamp(0px, (100vw - var(--Collapsed-breakpoint)) * 999, 100vw - var(--Cover-width))",transition:"background-image var(--Transition-duration), left var(--Transition-duration) !important",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",backgroundColor:"background.level1",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(https://images.unsplash.com/photo-1527181152855-fc03fc7949c8?auto=format&w=1000&dpr=2)",[s.getColorSchemeSelector("dark")]:{backgroundImage:"url(https://images.unsplash.com/photo-1572072393749-3ca9c8ea0831?auto=format&w=1000&dpr=2)"}})}),M=({error:s,type:r})=>r==="login"?s&&e.jsx("small",{className:"p-error",children:"You have entered email or password incorrect, please try again."}):s&&e.jsx("small",{className:"p-error",children:"A user with the same email already exists, please try again."}),Le=()=>{var h,p;const[s,{isLoading:r,error:a}]=D(),{reset:n,register:t,handleSubmit:l,formState:{errors:i,isValid:o}}=w({mode:"onChange",resolver:S(_(["email","loginpassword"]))}),c=async({email:g,loginpassword:d})=>{await s({email:g,password:d}),n()};return e.jsxs("form",{autoComplete:"on",onSubmit:l(c),children:[e.jsx(P,{label:"Email",type:"email",register:t("email"),error:i==null?void 0:i.email,helperText:(h=i==null?void 0:i.email)==null?void 0:h.message,autoComplete:"email"}),e.jsx(P,{label:"Password",type:"password",register:t("loginpassword"),error:i==null?void 0:i.loginpassword,helperText:(p=i==null?void 0:i.loginpassword)==null?void 0:p.message,autoComplete:"current-password"}),e.jsxs(x,{sx:{mt:2,gap:2},children:[e.jsx(M,{error:a,type:"login"}),e.jsx(z,{type:"submit",fullWidth:!0,loading:r,disabled:!o,children:"Sign in"})]})]})},ye=v.forwardRef(({onChange:s,value:r,...a},n)=>{const[t,l]=v.useState(r||"");v.useEffect(()=>{l(r||"")},[r]);const i=c=>{l(c.target.value),s(c.target.value)},o=j(t);return e.jsxs(x,{spacing:.5,sx:{"--hue":Math.min(t.length*10,120)},children:[e.jsx(se,{type:"password",value:t,onChange:i,ref:n,...a,autoComplete:"current-password"}),e.jsx(ve,{determinate:!0,size:"sm",value:j(t),sx:{bgcolor:"background.level3",color:"hsl(var(--hue) 80% 40%)"}}),e.jsxs(b,{level:"body-xs",sx:{alignSelf:"flex-end",color:"hsl(var(--hue) 80% 30%)"},children:[o===25&&"Very weak - add numbers, caps, or symbols",o===50&&"Weak - try adding uppercase letters or special characters",o===75&&"Strong - try adding special characters for extra security",o===100&&"Very strong - your password is secure"]})]})}),je=()=>{var p,g;const[s,{isLoading:r,error:a}]=E(),{reset:n,handleSubmit:t,register:l,control:i,formState:{errors:o,isValid:c}}=w({mode:"onChange",resolver:S(_(["name","email","signuppassword"]))}),h=async({email:d,signuppassword:f})=>{await s({email:d,password:f}),n()};return e.jsxs("form",{autoComplete:"on",onSubmit:t(h),children:[e.jsx(P,{error:a==null?void 0:a.name,label:"Name",register:l("name"),autoComplete:"given-name",type:"text",helperText:(p=o==null?void 0:o.name)==null?void 0:p.message}),e.jsx(P,{error:a==null?void 0:a.email,label:"Email",register:l("email"),autoComplete:"email",type:"email",helperText:(g=o==null?void 0:o.email)==null?void 0:g.message}),e.jsxs(re,{error:!!(o!=null&&o.signuppassword),children:[e.jsx(ae,{children:"Password"}),e.jsx(oe,{name:"signuppassword",control:i,render:({field:d})=>e.jsx(ye,{...d})}),(o==null?void 0:o.signuppassword)&&e.jsxs(ie,{children:[e.jsx(ne,{}),o.signuppassword.message]})]}),e.jsxs(x,{sx:{mt:2,gap:2},children:[e.jsx(M,{error:a,type:"signup"}),e.jsx(z,{type:"submit",fullWidth:!0,loading:r,disabled:!c,children:"Sign up"})]})]})},ke=()=>{const[s,r]=v.useState(!1);return e.jsxs(m,{sx:{my:"auto",py:2,pb:5,display:"flex",flexDirection:"column",gap:2,width:400,maxWidth:"100%",mx:"auto",borderRadius:"sm","& form":{display:"flex",flexDirection:"column",gap:2}},children:[e.jsx(x,{sx:{mb:2,gap:4},children:e.jsxs(x,{sx:{gap:1},children:[e.jsx(b,{level:"h3",children:s?"Sign up":"Sign in"}),e.jsxs(b,{level:"body-sm",children:[s?"Have an account?":"New to PhoneBook?"," ",e.jsx(te,{level:"title-sm",onClick:()=>r(!s),children:s?"Sign in!":"Sign up!"})]})]})}),e.jsx(x,{sx:{mt:2,gap:4},children:s?e.jsx(je,{}):e.jsx(Le,{})})]})},Se=()=>e.jsxs(le,{defaultMode:"system",disableTransitionOnChange:!0,children:[e.jsx(de,{}),e.jsx(ce,{styles:{":root":{"--Collapsed-breakpoint":"769px","--Cover-width":"50vw","--Form-maxWidth":"800px","--Transition-duration":"0.4s"}}}),e.jsx(m,{sx:s=>({width:"clamp(100vw - var(--Cover-width), (var(--Collapsed-breakpoint) - 100vw) * 999, 100vw)",transition:"width var(--Transition-duration)",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",position:"relative",zIndex:1,display:"flex",justifyContent:"flex-end",backdropFilter:"blur(12px)",backgroundColor:"rgba(255 255 255 / 0.2)",[s.getColorSchemeSelector("dark")]:{backgroundColor:"rgba(19 19 24 / 0.4)"}}),children:e.jsxs(m,{sx:{display:"flex",flexDirection:"column",minHeight:"100dvh",width:"clamp(var(--Form-maxWidth), (var(--Collapsed-breakpoint) - 100vw) * 999, 100%)",maxWidth:"100%",px:2},children:[e.jsx(Pe,{}),e.jsx(ke,{}),e.jsx(be,{})]})}),e.jsx(fe,{})]});export{Se as default};
